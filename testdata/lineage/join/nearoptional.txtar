# joinSchema contains optional fields of all cue kinds.
# TODO Remove this once the 'optional' corpus case is fixed.
-- in.cue --
import "github.com/grafana/thema"

thema.#Lineage
name: "nearoptional"
joinSchema: {
    notoptional: int32
    astring?: string
    anint?:   int
    abool?:   bool
    abytes?:  bytes
    alist?:   [...string]
    astruct?: {
        nested: string
    }
}
schemas: [{
	version: [0, 0]
	schema: {
	}
}]
lenses: []
-- out/encoding/gocode/TestGenerate/nilcfg --
== nearoptional_type_0.0_gen.go
package nearoptional

// Nearoptional defines model for nearoptional.
type Nearoptional struct {
	Abool   *bool    `json:"abool,omitempty"`
	Abytes  []byte   `json:"abytes,omitempty"`
	Alist   []string `json:"alist,omitempty"`
	Anint   *int     `json:"anint,omitempty"`
	Astring *string  `json:"astring,omitempty"`
	Astruct *struct {
		Nested string `json:"nested"`
	} `json:"astruct,omitempty"`
	Notoptional int32 `json:"notoptional"`
}
-- out/encoding/gocode/TestGenerate/group --
== nearoptional_type_0.0_gen.go
package nearoptional

// Abool defines model for abool.
type Abool = bool

// Abytes defines model for abytes.
type Abytes = []byte

// Alist defines model for alist.
type Alist = []string

// Anint defines model for anint.
type Anint = int

// Astring defines model for astring.
type Astring = string

// Astruct defines model for astruct.
type Astruct struct {
	Nested string `json:"nested"`
}

// Notoptional defines model for notoptional.
type Notoptional = int32
-- out/encoding/gocode/TestGenerate/depointerized --
== nearoptional_type_0.0_gen.go
package nearoptional

// Nearoptional defines model for nearoptional.
type Nearoptional struct {
	Abool   bool     `json:"abool,omitempty"`
	Abytes  []byte   `json:"abytes,omitempty"`
	Alist   []string `json:"alist,omitempty"`
	Anint   int      `json:"anint,omitempty"`
	Astring string   `json:"astring,omitempty"`
	Astruct struct {
		Nested string `json:"nested"`
	} `json:"astruct,omitempty"`
	Notoptional int32 `json:"notoptional"`
}
-- out/encoding/gocode/TestGenerate/godeclincomments --
== nearoptional_type_0.0_gen.go
package nearoptional

// Nearoptional defines model for nearoptional.
type Nearoptional struct {
	Abool   *bool    `json:"abool,omitempty"`
	Abytes  []byte   `json:"abytes,omitempty"`
	Alist   []string `json:"alist,omitempty"`
	Anint   *int     `json:"anint,omitempty"`
	Astring *string  `json:"astring,omitempty"`
	Astruct *struct {
		Nested string `json:"nested"`
	} `json:"astruct,omitempty"`
	Notoptional int32 `json:"notoptional"`
}
-- out/encoding/gocode/TestGenerate/expandref --
== nearoptional_type_0.0_gen.go
package nearoptional

// Nearoptional defines model for nearoptional.
type Nearoptional struct {
	Abool   *bool    `json:"abool,omitempty"`
	Abytes  []byte   `json:"abytes,omitempty"`
	Alist   []string `json:"alist,omitempty"`
	Anint   *int     `json:"anint,omitempty"`
	Astring *string  `json:"astring,omitempty"`
	Astruct *struct {
		Nested string `json:"nested"`
	} `json:"astruct,omitempty"`
	Notoptional int32 `json:"notoptional"`
}
