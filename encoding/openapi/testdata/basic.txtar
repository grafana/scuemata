-- in.cue --
package generate

import "github.com/grafana/thema"

thema.#Lineage
name: "basic"
seqs: [
    {
        schemas: [
            {
                foo: string
            }
        ]
    }
]
-- out/generate/0.0/expandrefs --
"openapi": "3.0.0"
"info": {
	"title":   "basic"
	"version": "0.0"
}
"paths": {}
"components": {
	"schemas": {
		"basic": {
			"type": "object", "required": ["foo"]
			"properties": {
				"foo": {
					"type": "string"
				}
			}
		}
	}
}

-- out/generate/0.0/group --
{
	"openapi": "3.0.0"
	"info": {
		"title":   "basic"
		"version": "0.0"
	}
	"path": {}
	"components": {
		"schemas": {
			"foo": {
				"type": "string"
			}
		}
	}
}

-- out/generate/0.0/nil --
"openapi": "3.0.0"
"info": {
	"title":   "basic"
	"version": "0.0"
}
"paths": {}
"components": {
	"schemas": {
		"basic": {
			"type": "object", "required": ["foo"]
			"properties": {
				"foo": {
					"type": "string"
				}
			}
		}
	}
}

-- out/generate/0.0/selfcontained --
"openapi": "3.0.0"
"info": {
	"title":   "basic"
	"version": "0.0"
}
"paths": {}
"components": {
	"schemas": {
		"basic": {
			"type": "object", "required": ["foo"]
			"properties": {
				"foo": {
					"type": "string"
				}
			}
		}
	}
}

